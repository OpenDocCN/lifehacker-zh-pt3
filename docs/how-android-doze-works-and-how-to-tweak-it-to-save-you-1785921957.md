# Android Doze 如何工作，以及如何调整它以节省电池

> 原文：<https://lifehacker.com/how-android-doze-works-and-how-to-tweak-it-to-save-you-1785921957>

你的智能手机做了太多的事情，以至于你觉得不可能充满电度过一天。不过，事情不一定非要这样。Android 的瞌睡功能是在 [棉花糖](http://lifehacker.com/all-the-new-features-of-android-m-1707454646) 中引入的，并在 [牛轧糖](http://lifehacker.com/all-the-new-features-coming-in-android-n-1763790001#_ga=1.29942783.1347662518.1465819317) 中得到完善，当你不使用手机时，它可以保持低电量。下面是它的工作原理，以及如何充分利用它。



### **Android Doze 可以防止应用在你不使用时耗尽你的电池**

在安卓系统中，应用程序能够使用所谓的“ [”唤醒锁](https://developer.android.com/reference/android/os/PowerManager.WakeLock.html) ”来防止你的手机进入省电的深度睡眠模式。这种深度睡眠模式通常在手机屏幕关闭时启动，但这可能会妨碍一些应用程序的工作。例如，如果你正在使用健身追踪器，你不希望你的手机关闭 GPS 或加速度计，因为你的手机在你的口袋里，屏幕关闭。

原则上，这是一个好的概念。应用程序让你的手机在需要的时候保持清醒和工作，在不需要的时候让它休眠。然而，这是一个问题，因为每个开发者都认为他们的应用足够重要，可以让你的手机一直开着。这就是为什么像脸书、、[这样的应用会耗尽你的电池，即使你不使用它们](http://lifehacker.com/even-with-background-app-refresh-off-facebooks-killing-1736758872)、。

Doze 有助于解决这个问题，如果你的手机有一段时间没有使用，它会定期阻止唤醒锁并关闭网络访问。然后，它会定期允许应用程序在“维护窗口”期间进行检查(你不使用设备的时间越长，这些窗口出现的频率就越低)。根据您使用的 Android 版本，Doze 在某些情况下的工作方式略有不同:

*   **Android 6.0 棉花糖:**在这个版本中，如果你的手机屏幕关闭，如果它没有在充电器上，并且如果手机已经静止了一段时间，Doze 就会激活。在这种状态下，所有唤醒锁被阻止，网络访问被禁用，直到维护窗口。例如，Facebook Messenger 不会让你的手机一直处于活跃状态，它将被迫每隔几分钟查看一次新消息。
*   **Android 7.0 牛轧糖:**在牛轧糖中，谷歌增加了一个更轻的 Doze 版本，如果你的手机屏幕关闭且不在充电器上，即使它在移动，它也会激活。在这种模式下，唤醒锁仍然是允许的，手机仍然会搜索 GPS 或 Wi-Fi 信号，但手机网络访问将在维护窗口之外被禁用。这仍然会让像你的健身追踪器这样的东西继续监视你的活动，同时仍然防止脸书撕毁你的电池。

如果你不用手机做任何事情，Doze 仍然会完成它的任务。它在后台几乎不可见地运行。偶尔你会一次收到几条信息，而不是分散在几分钟内，但大多数情况下没有明显的变化。然而，你可以调整它，赋予某些应用程序优先权，或者从你的手机中挤出一点额外的电池寿命。

### **选择哪些应用可以忽略 Doze 来获取您的重要信息**

默认情况下，Android 中只有最重要的服务——像 [Google Play 服务](http://lifehacker.com/why-google-play-services-are-now-more-important-than-an-975970197)——可以忽略 Doze。如果你没有从一个重要的应用程序收到消息，或者，如果你想关闭一个特别耗电的应用程序，你可以自定义哪些应用程序被禁止，或者通过 Doze 推送。方法如下:

1.  打开手机上的设置应用(拉下通知遮光板，点击右上角的齿轮，或者在应用抽屉中找到“设置”。)
2.  轻击电池。
3.  轻按菜单按钮，然后选取“电池优化”
4.  点击屏幕顶部的下拉菜单，选择“所有应用程序”

在这里，您可以看到手机上安装的应用程序的完整列表。默认情况下，大多数人会说“优化电池使用”。这些应用受到 Doze 的影响。如果你想让一个应用程序始终保持连接，比如说，你的工作消息应用程序，那么点击它并选择“不优化”从现在开始，该应用程序将始终能够接收信息或访问网络，但它可能会耗尽你的电池。

### **使用像 Greenify 这样的应用程序让 Doze 更有攻击性**

瞌睡本身已经很强大了。然而，一些第三方应用程序可以使它变得更好。如果你在安卓棉花糖上， [Greenify](https://play.google.com/store/apps/details?id=com.oasisfeng.greenify) 在基本的瞌睡功能上提供了一个巨大的凸起，带有侵略性的瞌睡。它可以在几分钟内激活瞌睡，而不是几个小时，即使你在移动，它也可以工作。不幸的是，这在 Nougat 中不起作用，但不管怎样，Greenify 的大多数积极功能都是 Android 7.0 的一部分，所以这不是什么大不了的事情。要开始，请按照下列步骤操作:

1.  下载安装 [Greenify](https://play.google.com/store/apps/details?id=com.oasisfeng.greenify&hl=en) 。(别担心，我们做的事情不需要 root。)
2.  启动应用程序并轻按右上角的菜单按钮，然后轻按“设置”。
3.  点击“积极打瞌睡(实验)”
4.  启用屏幕顶部的主动打盹开关。
5.  (可选)启用“移动中打盹”以激活打盹，即使设备正在移动。

如果你没有用 Doze 或 Greenify 做其他事情，随着时间的推移，这已经给你的电池寿命带来了相当大的提升。然而，棉花糖用户还可以通过根应用程序 [Doze 设置编辑器](http://lifehacker.com/doze-settings-editor-lets-you-tweak-android-marshmallow-1739908727) 走得更远。这让你可以调整一些事情，比如在禁用 Doze 之前你的手机可以移动多少。你也可以从预设的配置文件中选择来调整手机的电池设置，而不必亲自做所有的跑腿工作。现在，牛轧糖用户又一次失去了乐趣，但 Doze 的内置改进应该可以弥补这一点。

* * *

瞌睡对你的手机或平板电脑的电池寿命有很大的好处。即使你从来没有费心调整它，使用安卓棉花糖或牛轧糖应该可以帮你挤出几个小时。如果你需要从电池中获取更多的能量，这些调整会有所帮助。